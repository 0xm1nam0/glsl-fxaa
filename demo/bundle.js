!function t(r,e,n){function a(o,s){if(!e[o]){if(!r[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var h=e[o]={exports:{}};r[o][0].call(h.exports,function(t){var e=r[o][1][t];return a(e?e:t)},h,h.exports,t,r,e,n)}return e[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(t,r,e){function n(){var t=f.drawingBufferWidth,r=f.drawingBufferHeight;f.viewport(0,0,t,r),l.bind(),p.bind(),s(f)}function a(t){c=!c,p.uniforms.enabled=c,n()}var i=t("gl-shader"),o=t("gl-texture2d"),s=t("a-big-triangle"),u=t("img"),f=t("webgl-context")({width:512,height:512,antialias:!1}),h=f.canvas;document.body.appendChild(h);var l,c=!0,p=i(f,"#define GLSLIFY 1\nattribute vec2 position;\n\nvoid main() {\n  gl_Position = vec4(position, 1.0, 1.0);\n}",'#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec2 iResolution;\nuniform sampler2D iChannel0;\nuniform bool enabled;\n\n//import our fxaa shader\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent \n//texture reads can be a bottleneck\nvec4 fxaa_2_0(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\n\n//To save 9 dependent texture reads, you can compute\n//these in the vertex shader and use the optimized\n//frag.glsl function in your frag shader. \n\n//This is best suited for mobile devices, like iOS.\n\nvoid texcoords_3_1(vec2 fragCoord, vec2 resolution,\n			out vec2 v_rgbNW, out vec2 v_rgbNE,\n			out vec2 v_rgbSW, out vec2 v_rgbSE,\n			out vec2 v_rgbM) {\n	vec2 inverseVP = 1.0 / resolution.xy;\n	v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n	v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n	v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n	v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n	v_rgbM = vec2(fragCoord * inverseVP);\n}\n\n\n\nvec4 apply_1_2(sampler2D tex, vec2 fragCoord, vec2 resolution) {\n	mediump vec2 v_rgbNW;\n	mediump vec2 v_rgbNE;\n	mediump vec2 v_rgbSW;\n	mediump vec2 v_rgbSE;\n	mediump vec2 v_rgbM;\n\n	//compute the texture coords\n	texcoords_3_1(fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n	\n	//compute FXAA\n	return fxaa_2_0(tex, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n\n\n\nvoid main() {\n  vec2 uv = vec2(gl_FragCoord.xy / iResolution.xy);\n  uv.y = 1.0 - uv.y;\n\n  //can also use gl_FragCoord.xy\n  vec2 fragCoord = uv * iResolution; \n\n  vec4 color;\n  if (enabled) {\n      color = apply_1_2(iChannel0, fragCoord, iResolution);\n  } else {\n      color = texture2D(iChannel0, uv);\n  }\n\n  gl_FragColor = color;\n}\n');p.bind(),p.uniforms.iResolution=[h.width,h.height],p.uniforms.iChannel0=0,p.uniforms.enabled=c,u("screen.png",function(t,r){if(t)throw t;l=o(f,r),l.minFilter=f.LINEAR,l.magFilter=f.LINEAR,n()}),window.addEventListener("click",a),window.addEventListener("touchstart",function(t){window.removeEventListener("click",a),t.preventDefault(),a()})},{"a-big-triangle":19,"gl-shader":24,"gl-texture2d":44,img:45,"webgl-context":46}],2:[function(t,r,e){"use strict";function n(t,r,e,n,a){this.gl=t,this.type=r,this.handle=e,this.length=n,this.usage=a}function a(t,r,e,n,a,i){var o=a.length*a.BYTES_PER_ELEMENT;if(0>i)return t.bufferData(r,a,n),o;if(o+i>e)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(r,i,a),e}function i(t,r){for(var e=u.malloc(t.length,r),n=t.length,a=0;n>a;++a)e[a]=t[a];return e}function o(t,r){for(var e=1,n=r.length-1;n>=0;--n){if(r[n]!==e)return!1;e*=t[n]}return!0}function s(t,r,e,a){if(e=e||t.ARRAY_BUFFER,a=a||t.DYNAMIC_DRAW,e!==t.ARRAY_BUFFER&&e!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(a!==t.DYNAMIC_DRAW&&a!==t.STATIC_DRAW&&a!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=t.createBuffer(),o=new n(t,e,i,0,a);return o.update(r),o}var u=t("typedarray-pool"),f=t("ndarray-ops"),h=t("ndarray"),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],c=n.prototype;c.bind=function(){this.gl.bindBuffer(this.type,this.handle)},c.unbind=function(){this.gl.bindBuffer(this.type,null)},c.dispose=function(){this.gl.deleteBuffer(this.handle)},c.update=function(t,r){if("number"!=typeof r&&(r=-1),this.bind(),"object"==typeof t&&"undefined"!=typeof t.shape){var e=t.dtype;if(l.indexOf(e)<0&&(e="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var n=gl.getExtension("OES_element_index_uint");e=n&&"uint16"!==e?"uint32":"uint16"}if(e===t.dtype&&o(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=a(this.gl,this.type,this.length,this.usage,t.data,r):this.length=a(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),r);else{var s=u.malloc(t.size,e),c=h(s,t.shape);f.assign(c,t),0>r?this.length=a(this.gl,this.type,this.length,this.usage,s,r):this.length=a(this.gl,this.type,this.length,this.usage,s.subarray(0,t.size),r),u.free(s)}}else if(Array.isArray(t)){var p;p=this.type===this.gl.ELEMENT_ARRAY_BUFFER?i(t,"uint16"):i(t,"float32"),0>r?this.length=a(this.gl,this.type,this.length,this.usage,p,r):this.length=a(this.gl,this.type,this.length,this.usage,p.subarray(0,t.length),r),u.free(p)}else if("object"==typeof t&&"number"==typeof t.length)this.length=a(this.gl,this.type,this.length,this.usage,t,r);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(r>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t=0|t,0>=t&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},r.exports=s},{ndarray:8,"ndarray-ops":3,"typedarray-pool":13}],3:[function(t,r,e){"use strict";function n(t){if(!t)return s;for(var r=0;r<t.args.length;++r){var e=t.args[r];0===r?t.args[r]={name:e,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:t.args[r]={name:e,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function a(t){return o({args:t.args,pre:n(t.pre),body:n(t.body),post:n(t.proc),funcName:t.funcName})}function i(t){for(var r=[],e=0;e<t.args.length;++e)r.push("a"+e);var n=new Function("P",["return function ",t.funcName,"_ndarrayops(",r.join(","),") {P(",r.join(","),");return a0}"].join(""));return n(a(t))}var o=t("cwise-compiler"),s={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var r=u[t];e[t]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:t+"seq"})}}();var f={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in f){var r=f[t];e[t]=i({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:t}),e[t+"eq"]=i({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var h={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in h){var r=h[t];e[t]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var r=l[t];e[r]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),e[r+"eq"]=i({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}}();var c=["max","min","atan2","pow"];!function(){for(var t=0;t<c.length;++t){var r=c[t];e[r]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),e[r+"s"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),e[r+"eq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),e[r+"seq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}}();var p=["atan2","pow"];!function(){for(var t=0;t<p.length;++t){var r=p[t];e[r+"op"]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),e[r+"ops"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),e[r+"opeq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),e[r+"opseq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}}(),e.any=o({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=o({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=o({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=o({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=o({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=o({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=i({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=i({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=i({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=o({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":4}],4:[function(t,r,e){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function a(t){var r=new n;r.pre=t.pre,r.body=t.body,r.post=t.post;var e=t.args.slice(0);r.argTypes=e;for(var a=0;a<e.length;++a){var o=e[a];if("array"===o||"object"==typeof o&&o.blockIndices){if(r.argTypes[a]="array",r.arrayArgs.push(a),r.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),r.shimArgs.push("array"+a),a<r.pre.args.length&&r.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<r.post.args.length&&r.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)r.scalarArgs.push(a),r.shimArgs.push("scalar"+a);else if("index"===o){if(r.indexArgs.push(a),a<r.pre.args.length&&r.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<r.body.args.length&&r.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<r.post.args.length&&r.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(r.shapeArgs.push(a),a<r.pre.args.length&&r.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<r.body.args.length&&r.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<r.post.args.length&&r.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+e[a]);r.argTypes[a]="offset",r.offsetArgs.push({array:o.array,offset:o.offset}),r.offsetArgIndex.push(a)}}if(r.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(r.pre.args.length>e.length)throw new Error("cwise: Too many arguments in pre() block");if(r.body.args.length>e.length)throw new Error("cwise: Too many arguments in body() block");if(r.post.args.length>e.length)throw new Error("cwise: Too many arguments in post() block");return r.debug=!!t.printCode||!!t.debug,r.funcName=t.funcName||"cwise",r.blockSize=t.blockSize||64,i(r)}var i=t("./lib/thunk.js");r.exports=a},{"./lib/thunk.js":6}],5:[function(t,r,e){"use strict";function n(t,r,e){var n,a,i=t.length,o=r.arrayArgs.length,s=r.indexArgs.length>0,u=[],f=[],h=0,l=0;for(n=0;i>n;++n)f.push(["i",n,"=0"].join(""));for(a=0;o>a;++a)for(n=0;i>n;++n)l=h,h=t[n],0===n?f.push(["d",a,"s",n,"=t",a,"p",h].join("")):f.push(["d",a,"s",n,"=(t",a,"p",h,"-s",l,"*t",a,"p",l,")"].join(""));for(u.push("var "+f.join(",")),n=i-1;n>=0;--n)h=t[n],u.push(["for(i",n,"=0;i",n,"<s",h,";++i",n,"){"].join(""));for(u.push(e),n=0;i>n;++n){for(l=h,h=t[n],a=0;o>a;++a)u.push(["p",a,"+=d",a,"s",n].join(""));s&&(n>0&&u.push(["index[",l,"]-=s",l].join("")),u.push(["++index[",h,"]"].join(""))),u.push("}")}return u.join("\n")}function a(t,r,e,a){for(var i=r.length,o=e.arrayArgs.length,s=e.blockSize,u=e.indexArgs.length>0,f=[],h=0;o>h;++h)f.push(["var offset",h,"=p",h].join(""));for(var h=t;i>h;++h)f.push(["for(var j"+h+"=SS[",r[h],"]|0;j",h,">0;){"].join("")),f.push(["if(j",h,"<",s,"){"].join("")),f.push(["s",r[h],"=j",h].join("")),f.push(["j",h,"=0"].join("")),f.push(["}else{s",r[h],"=",s].join("")),f.push(["j",h,"-=",s,"}"].join("")),u&&f.push(["index[",r[h],"]=j",h].join(""));for(var h=0;o>h;++h){for(var l=["offset"+h],c=t;i>c;++c)l.push(["j",c,"*t",h,"p",r[c]].join(""));f.push(["p",h,"=(",l.join("+"),")"].join(""))}f.push(n(r,e,a));for(var h=t;i>h;++h)f.push("}");return f.join("\n")}function i(t){for(var r=0,e=t[0].length;e>r;){for(var n=1;n<t.length;++n)if(t[n][r]!==t[0][r])return r;++r}return r}function o(t,r,e){for(var n=t.body,a=[],i=[],o=0;o<t.args.length;++o){var s=t.args[o];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),f="",h=r.arrayArgs.indexOf(o);switch(r.argTypes[o]){case"offset":var l=r.offsetArgIndex.indexOf(o),c=r.offsetArgs[l];h=c.array,f="+q"+l;case"array":f="p"+h+f;var p="l"+o,g="a"+h;if(0===r.arrayBlockIndices[h])1===s.count?"generic"===e[h]?s.lvalue?(a.push(["var ",p,"=",g,".get(",f,")"].join("")),n=n.replace(u,p),i.push([g,".set(",f,",",p,")"].join(""))):n=n.replace(u,[g,".get(",f,")"].join("")):n=n.replace(u,[g,"[",f,"]"].join("")):"generic"===e[h]?(a.push(["var ",p,"=",g,".get(",f,")"].join("")),n=n.replace(u,p),s.lvalue&&i.push([g,".set(",f,",",p,")"].join(""))):(a.push(["var ",p,"=",g,"[",f,"]"].join("")),n=n.replace(u,p),s.lvalue&&i.push([g,"[",f,"]=",p].join("")));else{for(var d=[s.name],y=[f],_=0;_<Math.abs(r.arrayBlockIndices[h]);_++)d.push("\\s*\\[([^\\]]+)\\]"),y.push("$"+(_+1)+"*t"+h+"b"+_);if(u=new RegExp(d.join(""),"g"),f=y.join("+"),"generic"===e[h])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[g,"[",f,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+r.scalarArgs.indexOf(o));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[a.join("\n"),n,i.join("\n")].join("\n").trim()}function s(t){for(var r=new Array(t.length),e=!0,n=0;n<t.length;++n){var a=t[n],i=a.match(/\d+/);i=i?i[0]:"",0===a.charAt(0)?r[n]="u"+a.charAt(1)+i:r[n]=a.charAt(0)+i,n>0&&(e=e&&r[n]===r[n-1])}return e?r[0]:r.join("")}function u(t,r){for(var e=r[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),h=new Array(t.arrayArgs.length),l=0;l<t.arrayArgs.length;++l)h[l]=r[2*l],u[l]=r[2*l+1];for(var c=[],p=[],g=[],d=[],y=[],l=0;l<t.arrayArgs.length;++l){t.arrayBlockIndices[l]<0?(g.push(0),d.push(e),c.push(e),p.push(e+t.arrayBlockIndices[l])):(g.push(t.arrayBlockIndices[l]),d.push(t.arrayBlockIndices[l]+e),c.push(0),p.push(t.arrayBlockIndices[l]));for(var _=[],v=0;v<u[l].length;v++)g[l]<=u[l][v]&&u[l][v]<d[l]&&_.push(u[l][v]-g[l]);y.push(_)}for(var b=["SS"],m=["'use strict'"],E=[],v=0;e>v;++v)E.push(["s",v,"=SS[",v,"]"].join(""));for(var l=0;l<t.arrayArgs.length;++l){b.push("a"+l),b.push("t"+l),b.push("p"+l);for(var v=0;e>v;++v)E.push(["t",l,"p",v,"=t",l,"[",g[l]+v,"]"].join(""));for(var v=0;v<Math.abs(t.arrayBlockIndices[l]);++v)E.push(["t",l,"b",v,"=t",l,"[",c[l]+v,"]"].join(""))}for(var l=0;l<t.scalarArgs.length;++l)b.push("Y"+l);if(t.shapeArgs.length>0&&E.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var w=new Array(e),l=0;e>l;++l)w[l]="0";E.push(["index=[",w.join(","),"]"].join(""))}for(var l=0;l<t.offsetArgs.length;++l){for(var A=t.offsetArgs[l],T=[],v=0;v<A.offset.length;++v)0!==A.offset[v]&&(1===A.offset[v]?T.push(["t",A.array,"p",v].join("")):T.push([A.offset[v],"*t",A.array,"p",v].join("")));0===T.length?E.push("q"+l+"=0"):E.push(["q",l,"=",T.join("+")].join(""))}var I=f([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));E=E.concat(I),m.push("var "+E.join(","));for(var l=0;l<t.arrayArgs.length;++l)m.push("p"+l+"|=0");t.pre.body.length>3&&m.push(o(t.pre,t,h));var x=o(t.body,t,h),R=i(y);e>R?m.push(a(R,y[0],t,x)):m.push(n(y[0],t,x)),t.post.body.length>3&&m.push(o(t.post,t,h)),t.debug&&console.log("-----Generated cwise routine for ",r,":\n"+m.join("\n")+"\n----------");var S=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",R,s(h)].join(""),N=new Function(["function ",S,"(",b.join(","),"){",m.join("\n"),"} return ",S].join(""));return N()}var f=t("uniq");r.exports=u},{uniq:7}],6:[function(t,r,e){"use strict";function n(t){var r=["'use strict'","var CACHED={}"],e=[],n=t.funcName+"_cwise_thunk";r.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var i=[],o=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[u]),t.arrayBlockIndices[u]<0?","+t.arrayBlockIndices[u]+")":")"].join("")],u=0;u<t.arrayArgs.length;++u){var f=t.arrayArgs[u];e.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),i.push("t"+f),i.push("r"+f),o.push("t"+f),o.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0")}for(var u=0;u<t.scalarArgs.length;++u)s.push("scalar"+t.scalarArgs[u]);e.push(["type=[",o.join(","),"].join()"].join("")),e.push("proc=CACHED[type]"),r.push("var "+e.join(",")),r.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+r.join("\n")+"\n----------");var h=new Function("compile",r.join("\n"));return h(a.bind(void 0,t))}var a=t("./compile.js");r.exports=n},{"./compile.js":5}],7:[function(t,r,e){"use strict";function n(t,r){for(var e=1,n=t.length,a=t[0],i=t[0],o=1;n>o;++o)if(i=a,a=t[o],r(a,i)){if(o===e){e++;continue}t[e++]=a}return t.length=e,t}function a(t){for(var r=1,e=t.length,n=t[0],a=t[0],i=1;e>i;++i,a=n)if(a=n,n=t[i],n!==a){if(i===r){r++;continue}t[r++]=n}return t.length=r,t}function i(t,r,e){return 0===t.length?t:r?(e||t.sort(r),n(t,r)):(e||t.sort(),a(t))}r.exports=i},{}],8:[function(t,r,e){function n(t,r){return t[0]-r[0]}function a(){var t,r=this.stride,e=new Array(r.length);for(t=0;t<e.length;++t)e[t]=[Math.abs(r[t]),t];e.sort(n);var a=new Array(e.length);for(t=0;t<a.length;++t)a[t]=e[t][1];return a}function i(t,r){var e=["View",r,"d",t].join("");0>r&&(e="View_Nil"+t);var n="generic"===t;if(-1===r){var i="function "+e+"(a){this.data=a;};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+e+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+e+"(a){return new "+e+"(a);}",o=new Function(i);return o()}if(0===r){var i="function "+e+"(a,d) {this.data = a;this.offset = d};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+e+"_copy() {return new "+e+"(this.data,this.offset)};proto.pick=function "+e+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+e+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+e+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+e+"(a,b,c,d){return new "+e+"(a,d)}",o=new Function("TrivialArray",i);return o(l[t][0])}var i=["'use strict'"],s=u(r),f=s.map(function(t){return"i"+t}),h="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),c=s.map(function(t){return"b"+t}).join(","),p=s.map(function(t){return"c"+t}).join(",");i.push("function "+e+"(a,"+c+","+p+",d){this.data=a","this.shape=["+c+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+e+".prototype","proto.dtype='"+t+"'","proto.dimension="+r),i.push("Object.defineProperty(proto,'size',{get:function "+e+"_size(){return "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===r?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),4>r?(i.push("function "+e+"_order(){"),2===r?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===r&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+e+"_set("+f.join(",")+",v){"),n?i.push("return this.data.set("+h+",v)}"):i.push("return this.data["+h+"]=v}"),i.push("proto.get=function "+e+"_get("+f.join(",")+"){"),n?i.push("return this.data.get("+h+")}"):i.push("return this.data["+h+"]}"),i.push("proto.index=function "+e+"_index(",f.join(),"){return "+h+"}"),i.push("proto.hi=function "+e+"_hi("+f.join(",")+"){return new "+e+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var g=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),d=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});i.push("proto.lo=function "+e+"_lo("+f.join(",")+"){var b=this.offset,d=0,"+g.join(",")+","+d.join(","));for(var y=0;r>y;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){d=i"+y+"|0;b+=c"+y+"*d;a"+y+"-=d}");i.push("return new "+e+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),i.push("proto.step=function "+e+"_step("+f.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var y=0;r>y;++y)i.push("if(typeof i"+y+"==='number'){d=i"+y+"|0;if(d<0){c+=b"+y+"*(a"+y+"-1);a"+y+"=ceil(-a"+y+"/d)}else{a"+y+"=ceil(a"+y+"/d)}b"+y+"*=d}");i.push("return new "+e+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){
return"b"+t}).join(",")+",c)}");for(var _=new Array(r),v=new Array(r),y=0;r>y;++y)_[y]="a[i"+y+"]",v[y]="b[i"+y+"]";i.push("proto.transpose=function "+e+"_transpose("+f+"){"+f.map(function(t,r){return t+"=("+t+"===undefined?"+r+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+e+"(this.data,"+_.join(",")+","+v.join(",")+",this.offset)}"),i.push("proto.pick=function "+e+"_pick("+f+"){var a=[],b=[],c=this.offset");for(var y=0;r>y;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+e+"(data,shape,stride,offset){return new "+e+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var o=new Function("CTOR_LIST","ORDER",i.join("\n"));return o(l[t],a)}function o(t){if(f(t))return"buffer";if(h)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,r,e,n){if(void 0===t){var a=l.array[0];return a([])}"number"==typeof t&&(t=[t]),void 0===r&&(r=[t.length]);var s=r.length;if(void 0===e){e=new Array(s);for(var u=s-1,f=1;u>=0;--u)e[u]=f,f*=r[u]}if(void 0===n){n=0;for(var u=0;s>u;++u)e[u]<0&&(n-=(r[u]-1)*e[u])}for(var h=o(t),c=l[h];c.length<=s+1;)c.push(i(h,c.length-1));var a=c[s+1];return a(t,r,e,n)}var u=t("iota-array"),f=t("is-buffer"),h="undefined"!=typeof Float64Array,l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};r.exports=s},{"iota-array":9,"is-buffer":10}],9:[function(t,r,e){"use strict";function n(t){for(var r=new Array(t),e=0;t>e;++e)r[e]=e;return r}r.exports=n},{}],10:[function(t,r,e){r.exports=function(t){return!(null==t||!t.constructor||"function"!=typeof t.constructor.isBuffer||!t.constructor.isBuffer(t))}},{}],11:[function(t,r,e){"use strict";"use restrict";function n(t){var r=32;return t&=-t,t&&r--,65535&t&&(r-=16),16711935&t&&(r-=8),252645135&t&&(r-=4),858993459&t&&(r-=2),1431655765&t&&(r-=1),r}var a=32;e.INT_BITS=a,e.INT_MAX=2147483647,e.INT_MIN=-1<<a-1,e.sign=function(t){return(t>0)-(0>t)},e.abs=function(t){var r=t>>a-1;return(t^r)-r},e.min=function(t,r){return r^(t^r)&-(r>t)},e.max=function(t,r){return t^(t^r)&-(r>t)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var r,e;return r=(t>65535)<<4,t>>>=r,e=(t>255)<<3,t>>>=e,r|=e,e=(t>15)<<2,t>>>=e,r|=e,e=(t>3)<<1,t>>>=e,r|=e,r|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var i=new Array(256);!function(t){for(var r=0;256>r;++r){var e=r,n=r,a=7;for(e>>>=1;e;e>>>=1)n<<=1,n|=1&e,--a;t[r]=n<<a&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,r){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),r&=65535,r=16711935&(r|r<<8),r=252645135&(r|r<<4),r=858993459&(r|r<<2),r=1431655765&(r|r<<1),t|r<<1},e.deinterleave2=function(t,r){return t=t>>>r&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},e.interleave3=function(t,r,e){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|=r<<1,e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|e<<2},e.deinterleave3=function(t,r){return t=t>>>r&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},e.nextCombination=function(t){var r=t|t-1;return r+1|(~r&-~r)-1>>>n(t)+1}},{}],12:[function(t,r,e){"use strict";function n(t,r,e){var a=0|t[e];if(0>=a)return[];var i,o=new Array(a);if(e===t.length-1)for(i=0;a>i;++i)o[i]=r;else for(i=0;a>i;++i)o[i]=n(t,r,e+1);return o}function a(t,r){var e,n;for(e=new Array(t),n=0;t>n;++n)e[n]=r;return e}function i(t,r){switch("undefined"==typeof r&&(r=0),typeof t){case"number":if(t>0)return a(0|t,r);break;case"object":if("number"==typeof t.length)return n(t,r,0)}return[]}r.exports=i},{}],13:[function(t,r,e){(function(r,n){"use strict";function a(t){if(t){var r=t.length||t.byteLength,e=v.log2(r);w[e].push(t)}}function i(t){a(t.buffer)}function o(t){var t=v.nextPow2(t),r=v.log2(t),e=w[r];return e.length>0?e.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(o(t),0,t)}function u(t){return new Uint16Array(o(2*t),0,t)}function f(t){return new Uint32Array(o(4*t),0,t)}function h(t){return new Int8Array(o(t),0,t)}function l(t){return new Int16Array(o(2*t),0,t)}function c(t){return new Int32Array(o(4*t),0,t)}function p(t){return new Float32Array(o(4*t),0,t)}function g(t){return new Float64Array(o(8*t),0,t)}function d(t){return m?new Uint8ClampedArray(o(t),0,t):s(t)}function y(t){return new DataView(o(t),0,t)}function _(t){t=v.nextPow2(t);var r=v.log2(t),e=A[r];return e.length>0?e.pop():new n(t)}var v=t("bit-twiddle"),b=t("dup");r.__TYPEDARRAY_POOL||(r.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var m="undefined"!=typeof Uint8ClampedArray,E=r.__TYPEDARRAY_POOL;E.UINT8C||(E.UINT8C=b([32,0])),E.BUFFER||(E.BUFFER=b([32,0]));var w=E.DATA,A=E.BUFFER;e.free=function(t){if(n.isBuffer(t))A[v.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,e=0|v.log2(r);w[e].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=i,e.freeArrayBuffer=a,e.freeBuffer=function(t){A[v.log2(t.length)].push(t)},e.malloc=function(t,r){if(void 0===r||"arraybuffer"===r)return o(t);switch(r){case"uint8":return s(t);case"uint16":return u(t);case"uint32":return f(t);case"int8":return h(t);case"int16":return l(t);case"int32":return c(t);case"float":case"float32":return p(t);case"double":case"float64":return g(t);case"uint8_clamped":return d(t);case"buffer":return _(t);case"data":case"dataview":return y(t);default:return null}return null},e.mallocArrayBuffer=o,e.mallocUint8=s,e.mallocUint16=u,e.mallocUint32=f,e.mallocInt8=h,e.mallocInt16=l,e.mallocInt32=c,e.mallocFloat32=e.mallocFloat=p,e.mallocFloat64=e.mallocDouble=g,e.mallocUint8Clamped=d,e.mallocDataView=y,e.mallocBuffer=_,e.clearCache=function(){for(var t=0;32>t;++t)E.UINT8[t].length=0,E.UINT16[t].length=0,E.UINT32[t].length=0,E.INT8[t].length=0,E.INT16[t].length=0,E.INT32[t].length=0,E.FLOAT[t].length=0,E.DOUBLE[t].length=0,E.UINT8C[t].length=0,w[t].length=0,A[t].length=0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"bit-twiddle":11,buffer:20,dup:12}],14:[function(t,r,e){"use strict";function n(t,r,e){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(e){if(e.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var a=0;a<e.length;++a){var i=e[a];if(i.buffer){var o=i.buffer,s=i.size||4,u=i.type||t.FLOAT,f=!!i.normalized,h=i.stride||0,l=i.offset||0;o.bind(),t.enableVertexAttribArray(a),t.vertexAttribPointer(a,s,u,f,h,l)}else{if("number"==typeof i)t.vertexAttrib1f(a,i);else if(1===i.length)t.vertexAttrib1f(a,i[0]);else if(2===i.length)t.vertexAttrib2f(a,i[0],i[1]);else if(3===i.length)t.vertexAttrib3f(a,i[0],i[1],i[2]);else{if(4!==i.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(a,i[0],i[1],i[2],i[3])}t.disableVertexAttribArray(a)}}for(;n>a;++a)t.disableVertexAttribArray(a)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var a=0;n>a;++a)t.disableVertexAttribArray(a)}}r.exports=n},{}],15:[function(t,r,e){"use strict";function n(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function a(t){return new n(t)}var i=t("./do-bind.js");n.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},n.prototype.update=function(t,r,e){this._elements=r,this._attributes=t,this._elementsType=e||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(t,r,e){e=e||0;var n=this.gl;this._elements?n.drawElements(t,r,this._elementsType,e):n.drawArrays(t,e,r)},r.exports=a},{"./do-bind.js":14}],16:[function(t,r,e){"use strict";function n(t,r,e,n,a,i){this.location=t,this.dimension=r,this.a=e,this.b=n,this.c=a,this.d=i}function a(t,r,e){this.gl=t,this._ext=r,this.handle=e,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function i(t,r){return new a(t,r,r.createVertexArrayOES())}var o=t("./do-bind.js");n.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(t,r,e){if(this.bind(),o(this.gl,r,t),this.unbind(),this._attribs.length=0,t)for(var a=0;a<t.length;++a){var i=t[a];"number"==typeof i?this._attribs.push(new n(a,1,i)):Array.isArray(i)&&this._attribs.push(new n(a,i.length,i[0],i[1],i[2],i[3]))}this._useElements=!!r,this._elementsType=e||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(t,r,e){e=e||0;var n=this.gl;this._useElements?n.drawElements(t,r,this._elementsType,e):n.drawArrays(t,e,r)},r.exports=i},{"./do-bind.js":14}],17:[function(t,r,e){"use strict";function n(t,r,e,n){var o,s=t.getExtension("OES_vertex_array_object");return o=s?a(t,s):i(t),o.update(r,e,n),o}var a=t("./lib/vao-native.js"),i=t("./lib/vao-emulated.js");r.exports=n},{"./lib/vao-emulated.js":15,"./lib/vao-native.js":16}],18:[function(t,r,e){!function(){"use strict";function t(r){r.permitHostObjects___&&r.permitHostObjects___(t)}function e(t){return!(t.substr(0,p.length)==p&&"___"===t.substr(t.length-3))}function n(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var r=t[g];if(r&&r.key===t)return r;if(!c(t))return void 0;r={key:t};try{return l(t,g,{value:r,writable:!1,enumerable:!1,configurable:!1}),r}catch(e){return void 0}}function a(t){return t.prototype=null,Object.freeze(t)}function i(){v||"undefined"==typeof console||(v=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=t);var o=!1;if("function"==typeof WeakMap){var s=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var u=new s,f=Object.freeze({});if(u.set(f,1),1===u.get(f))return void(r.exports=WeakMap);o=!0}}var h=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),l=Object.defineProperty,c=Object.isExtensible,p="weakmap:",g=p+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var d=new ArrayBuffer(25),y=new Uint8Array(d);crypto.getRandomValues(y),g=p+"rand:"+Array.prototype.map.call(y,function(t){return(t%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(t){return h(t).filter(e)}}),"getPropertyNames"in Object){var _=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(t){return _(t).filter(e)}})}!function(){var t=Object.freeze;l(Object,"freeze",{value:function(r){return n(r),t(r)}});var r=Object.seal;l(Object,"seal",{value:function(t){return n(t),r(t)}});var e=Object.preventExtensions;l(Object,"preventExtensions",{value:function(t){return n(t),e(t)}})}();var v=!1,b=0,m=function(){function t(t,r){var e,a=n(t);return a?f in a?a[f]:r:(e=s.indexOf(t),e>=0?u[e]:r)}function r(t){var r=n(t);return r?f in r:s.indexOf(t)>=0}function e(t,r){var e,a=n(t);return a?a[f]=r:(e=s.indexOf(t),e>=0?u[e]=r:(e=s.length,u[e]=r,s[e]=t)),this}function o(t){var r,e,a=n(t);return a?f in a&&delete a[f]:(r=s.indexOf(t),0>r?!1:(e=s.length-1,s[r]=void 0,u[r]=u[e],s[r]=s[e],s.length=e,u.length=e,!0))}this instanceof m||i();var s=[],u=[],f=b++;return Object.create(m.prototype,{get___:{value:a(t)},has___:{value:a(r)},set___:{value:a(e)},delete___:{value:a(o)}})};m.prototype=Object.create(Object.prototype,{get:{value:function(t,r){return this.get___(t,r)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,r){return this.set___(t,r)},writable:!0,configurable:!0},"delete":{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof s?!function(){function e(){function r(t,r){return h?f.has(t)?f.get(t):h.get___(t,r):f.get(t,r)}function e(t){return f.has(t)||(h?h.has___(t):!1)}function n(t){var r=!!f["delete"](t);return h?h.delete___(t)||r:r}this instanceof m||i();var u,f=new s,h=void 0,l=!1;return u=o?function(t,r){return f.set(t,r),f.has(t)||(h||(h=new m),h.set(t,r)),this}:function(t,r){if(l)try{f.set(t,r)}catch(e){h||(h=new m),h.set___(t,r)}else f.set(t,r);return this},Object.create(m.prototype,{get___:{value:a(r)},has___:{value:a(e)},set___:{value:a(u)},delete___:{value:a(n)},permitHostObjects___:{value:a(function(r){if(r!==t)throw new Error("bogus call to permitHostObjects___");l=!0})}})}o&&"undefined"!=typeof Proxy&&(Proxy=void 0),e.prototype=m.prototype,r.exports=e,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),r.exports=m)}}()},{}],19:[function(t,r,e){"use strict";function n(t){var r=s.get(t);if(!r||!t.isBuffer(r._triangleBuffer.buffer)){var e=i(t,new Float32Array([-1,-1,-1,4,4,-1]));r=o(t,[{buffer:e,type:t.FLOAT,size:2}]),r._triangleBuffer=e,s.set(t,r)}r.bind(),t.drawArrays(t.TRIANGLES,0,3),r.unbind()}var a="undefined"==typeof WeakMap?t("weak-map"):WeakMap,i=t("gl-buffer"),o=t("gl-vao"),s=new a;r.exports=n},{"gl-buffer":2,"gl-vao":17,"weak-map":18}],20:[function(t,r,e){function n(t){return this instanceof n?(this.length=0,this.parent=void 0,"number"==typeof t?a(this,t):"string"==typeof t?i(this,t,arguments.length>1?arguments[1]:"utf8"):o(this,t)):arguments.length>1?new n(t,arguments[1]):new n(t)}function a(t,r){if(t=c(t,0>r?0:0|p(r)),!n.TYPED_ARRAY_SUPPORT)for(var e=0;r>e;e++)t[e]=0;return t}function i(t,r,e){("string"!=typeof e||""===e)&&(e="utf8");var n=0|d(r,e);return t=c(t,n),t.write(r,e),t}function o(t,r){if(n.isBuffer(r))return s(t,r);if(H(r))return u(t,r);if(null==r)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer?f(t,r):r.length?h(t,r):l(t,r)}function s(t,r){var e=0|p(r.length);return t=c(t,e),r.copy(t,0,0,e),t}function u(t,r){var e=0|p(r.length);t=c(t,e);for(var n=0;e>n;n+=1)t[n]=255&r[n];return t}function f(t,r){var e=0|p(r.length);t=c(t,e);for(var n=0;e>n;n+=1)t[n]=255&r[n];return t}function h(t,r){var e=0|p(r.length);t=c(t,e);for(var n=0;e>n;n+=1)t[n]=255&r[n];return t}function l(t,r){var e,n=0;"Buffer"===r.type&&H(r.data)&&(e=r.data,n=0|p(e.length)),t=c(t,n);for(var a=0;n>a;a+=1)t[a]=255&e[a];return t}function c(t,r){n.TYPED_ARRAY_SUPPORT?t=n._augment(new Uint8Array(r)):(t.length=r,t._isBuffer=!0);var e=0!==r&&r<=n.poolSize>>>1;return e&&(t.parent=z),t}function p(t){if(t>=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+q.toString(16)+" bytes");return 0|t}function g(t,r){if(!(this instanceof g))return new g(t,r);var e=new n(t,r);return delete e.parent,e}function d(t,r){if("string"!=typeof t&&(t=String(t)),0===t.length)return 0;switch(r||"utf8"){case"ascii":case"binary":case"raw":return t.length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t.length;case"hex":return t.length>>>1;case"utf8":case"utf-8":return V(t).length;case"base64":return k(t).length;default:return t.length}}function y(t,r,e,n){e=Number(e)||0;var a=t.length-e;n?(n=Number(n),n>a&&(n=a)):n=a;var i=r.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;n>o;o++){var s=parseInt(r.substr(2*o,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[e+o]=s}return o}function _(t,r,e,n){return Y(V(r,t.length-e),t,e,n)}function v(t,r,e,n){return Y(C(r),t,e,n)}function b(t,r,e,n){return v(t,r,e,n)}function m(t,r,e,n){return Y(k(r),t,e,n)}function E(t,r,e,n){return Y(F(r,t.length-e),t,e,n)}function w(t,r,e){return 0===r&&e===t.length?W.fromByteArray(t):W.fromByteArray(t.slice(r,e))}function A(t,r,e){var n="",a="";e=Math.min(t.length,e);for(var i=r;e>i;i++)t[i]<=127?(n+=X(a)+String.fromCharCode(t[i]),a=""):a+="%"+t[i].toString(16);return n+X(a)}function T(t,r,e){var n="";e=Math.min(t.length,e);for(var a=r;e>a;a++)n+=String.fromCharCode(127&t[a]);return n}function I(t,r,e){var n="";e=Math.min(t.length,e);for(var a=r;e>a;a++)n+=String.fromCharCode(t[a]);return n}function x(t,r,e){var n=t.length;(!r||0>r)&&(r=0),(!e||0>e||e>n)&&(e=n);for(var a="",i=r;e>i;i++)a+=D(t[i]);return a}function R(t,r,e){for(var n=t.slice(r,e),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function S(t,r,e){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function N(t,r,e,a,i,o){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(r>i||o>r)throw new RangeError("value is out of bounds");if(e+a>t.length)throw new RangeError("index out of range")}function U(t,r,e,n){0>r&&(r=65535+r+1);for(var a=0,i=Math.min(t.length-e,2);i>a;a++)t[e+a]=(r&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function O(t,r,e,n){0>r&&(r=4294967295+r+1);for(var a=0,i=Math.min(t.length-e,4);i>a;a++)t[e+a]=r>>>8*(n?a:3-a)&255}function j(t,r,e,n,a,i){if(r>a||i>r)throw new RangeError("value is out of bounds");if(e+n>t.length)throw new RangeError("index out of range");if(0>e)throw new RangeError("index out of range")}function P(t,r,e,n,a){return a||j(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(t,r,e,n,23,4),e+4}function L(t,r,e,n,a){return a||j(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(t,r,e,n,52,8),e+8}function B(t){if(t=M(t).replace(J,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function M(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function D(t){return 16>t?"0"+t.toString(16):t.toString(16)}function V(t,r){r=r||1/0;for(var e,n=t.length,a=null,i=[],o=0;n>o;o++){if(e=t.charCodeAt(o),e>55295&&57344>e){if(!a){if(e>56319){(r-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(r-=3)>-1&&i.push(239,191,189);continue}a=e;continue}if(56320>e){(r-=3)>-1&&i.push(239,191,189),a=e;continue}e=a-55296<<10|e-56320|65536,a=null}else a&&((r-=3)>-1&&i.push(239,191,189),a=null);if(128>e){if((r-=1)<0)break;i.push(e)}else if(2048>e){if((r-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(65536>e){if((r-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(2097152>e))throw new Error("Invalid code point");if((r-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function C(t){for(var r=[],e=0;e<t.length;e++)r.push(255&t.charCodeAt(e));return r}function F(t,r){for(var e,n,a,i=[],o=0;o<t.length&&!((r-=2)<0);o++)e=t.charCodeAt(o),n=e>>8,a=e%256,i.push(a),i.push(n);return i}function k(t){return W.toByteArray(B(t))}function Y(t,r,e,n){for(var a=0;n>a&&!(a+e>=r.length||a>=t.length);a++)r[a+e]=t[a];return a}function X(t){try{return decodeURIComponent(t)}catch(r){return String.fromCharCode(65533)}}var W=t("base64-js"),G=t("ieee754"),H=t("is-array");e.Buffer=n,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,n.poolSize=8192;var q=1073741823,z={};n.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),r=new Uint8Array(t);return r.foo=function(){return 42},42===r.foo()&&"function"==typeof r.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(e){return!1}}(),n.isBuffer=function(t){return!(null==t||!t._isBuffer)},n.compare=function(t,r){if(!n.isBuffer(t)||!n.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,a=r.length,i=0,o=Math.min(e,a);o>i&&t[i]===r[i];)++i;return i!==o&&(e=t[i],a=r[i]),a>e?-1:e>a?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(t,r){if(!H(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new n(0);if(1===t.length)return t[0];var e;if(void 0===r)for(r=0,e=0;e<t.length;e++)r+=t[e].length;var a=new n(r),i=0;for(e=0;e<t.length;e++){var o=t[e];o.copy(a,i),i+=o.length}return a},n.byteLength=d,n.prototype.length=void 0,n.prototype.parent=void 0,n.prototype.toString=function(t,r,e){var n=!1;if(r=0|r,e=void 0===e||e===1/0?this.length:0|e,t||(t="utf8"),0>r&&(r=0),e>this.length&&(e=this.length),r>=e)return"";for(;;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return A(this,r,e);case"ascii":return T(this,r,e);case"binary":return I(this,r,e);case"base64":return w(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}},n.prototype.equals=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===n.compare(this,t)},n.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},n.prototype.compare=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:n.compare(this,t)},n.prototype.indexOf=function(t,r){function e(t,r,e){for(var n=-1,a=0;e+a<t.length;a++)if(t[e+a]===r[-1===n?0:a-n]){if(-1===n&&(n=a),a-n+1===r.length)return e+n}else n=-1;return-1}if(r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r>>=0,0===this.length)return-1;if(r>=this.length)return-1;if(0>r&&(r=Math.max(this.length+r,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,r);if(n.isBuffer(t))return e(this,t,r);if("number"==typeof t)return n.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,r):e(this,[t],r);throw new TypeError("val must be string, number or Buffer")},n.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},n.prototype.set=function(t,r){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,r)},n.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else if(isFinite(r))r=0|r,isFinite(e)?(e=0|e,void 0===n&&(n="utf8")):(n=e,e=void 0);else{var a=n;n=r,r=0|e,e=a}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(0>e||0>r)||r>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,t,r,e);case"utf8":case"utf-8":return _(this,t,r,e);case"ascii":return v(this,t,r,e);case"binary":return b(this,t,r,e);case"base64":return m(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.slice=function(t,r){var e=this.length;t=~~t,r=void 0===r?e:~~r,0>t?(t+=e,0>t&&(t=0)):t>e&&(t=e),0>r?(r+=e,0>r&&(r=0)):r>e&&(r=e),t>r&&(r=t);var a;if(n.TYPED_ARRAY_SUPPORT)a=n._augment(this.subarray(t,r));else{var i=r-t;a=new n(i,void 0);for(var o=0;i>o;o++)a[o]=this[o+t]}return a.length&&(a.parent=this.parent||this),a},n.prototype.readUIntLE=function(t,r,e){t=0|t,r=0|r,e||S(t,r,this.length);for(var n=this[t],a=1,i=0;++i<r&&(a*=256);)n+=this[t+i]*a;return n},n.prototype.readUIntBE=function(t,r,e){t=0|t,r=0|r,e||S(t,r,this.length);for(var n=this[t+--r],a=1;r>0&&(a*=256);)n+=this[t+--r]*a;return n},n.prototype.readUInt8=function(t,r){return r||S(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,r){return r||S(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,r){return r||S(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,r){return r||S(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,r){return r||S(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,r,e){t=0|t,r=0|r,e||S(t,r,this.length);for(var n=this[t],a=1,i=0;++i<r&&(a*=256);)n+=this[t+i]*a;return a*=128,n>=a&&(n-=Math.pow(2,8*r)),n},n.prototype.readIntBE=function(t,r,e){t=0|t,r=0|r,e||S(t,r,this.length);for(var n=r,a=1,i=this[t+--n];n>0&&(a*=256);)i+=this[t+--n]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i},n.prototype.readInt8=function(t,r){return r||S(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,r){r||S(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},n.prototype.readInt16BE=function(t,r){r||S(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},n.prototype.readInt32LE=function(t,r){return r||S(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,r){return r||S(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,r){return r||S(t,4,this.length),G.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,r){return r||S(t,4,this.length),G.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,r){return r||S(t,8,this.length),G.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,r){return r||S(t,8,this.length),G.read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,r,e,n){t=+t,r=0|r,e=0|e,n||N(this,t,r,e,Math.pow(2,8*e),0);var a=1,i=0;for(this[r]=255&t;++i<e&&(a*=256);)this[r+i]=t/a&255;return r+e},n.prototype.writeUIntBE=function(t,r,e,n){t=+t,r=0|r,e=0|e,n||N(this,t,r,e,Math.pow(2,8*e),0);var a=e-1,i=1;for(this[r+a]=255&t;--a>=0&&(i*=256);)this[r+a]=t/i&255;return r+e},n.prototype.writeUInt8=function(t,r,e){return t=+t,r=0|r,e||N(this,t,r,1,255,0),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=t,r+1},n.prototype.writeUInt16LE=function(t,r,e){return t=+t,r=0|r,e||N(this,t,r,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[r]=t,this[r+1]=t>>>8):U(this,t,r,!0),r+2},n.prototype.writeUInt16BE=function(t,r,e){return t=+t,r=0|r,e||N(this,t,r,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t):U(this,t,r,!1),r+2},n.prototype.writeUInt32LE=function(t,r,e){return t=+t,r=0|r,e||N(this,t,r,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t):O(this,t,r,!0),r+4},n.prototype.writeUInt32BE=function(t,r,e){return t=+t,r=0|r,e||N(this,t,r,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t):O(this,t,r,!1),r+4},n.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r=0|r,!n){var a=Math.pow(2,8*e-1);N(this,t,r,e,a-1,-a)}var i=0,o=1,s=0>t?1:0;for(this[r]=255&t;++i<e&&(o*=256);)this[r+i]=(t/o>>0)-s&255;return r+e},n.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r=0|r,!n){var a=Math.pow(2,8*e-1);N(this,t,r,e,a-1,-a)}var i=e-1,o=1,s=0>t?1:0;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=(t/o>>0)-s&255;return r+e},n.prototype.writeInt8=function(t,r,e){return t=+t,r=0|r,e||N(this,t,r,1,127,-128),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[r]=t,r+1},n.prototype.writeInt16LE=function(t,r,e){return t=+t,r=0|r,e||N(this,t,r,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[r]=t,this[r+1]=t>>>8):U(this,t,r,!0),r+2},n.prototype.writeInt16BE=function(t,r,e){return t=+t,r=0|r,e||N(this,t,r,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t):U(this,t,r,!1),r+2},n.prototype.writeInt32LE=function(t,r,e){return t=+t,r=0|r,e||N(this,t,r,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[r]=t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):O(this,t,r,!0),r+4},n.prototype.writeInt32BE=function(t,r,e){return t=+t,r=0|r,e||N(this,t,r,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),n.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t):O(this,t,r,!1),r+4},n.prototype.writeFloatLE=function(t,r,e){return P(this,t,r,!0,e)},n.prototype.writeFloatBE=function(t,r,e){return P(this,t,r,!1,e)},n.prototype.writeDoubleLE=function(t,r,e){return L(this,t,r,!0,e)},n.prototype.writeDoubleBE=function(t,r,e){return L(this,t,r,!1,e)},n.prototype.copy=function(t,r,e,a){if(e||(e=0),a||0===a||(a=this.length),r>=t.length&&(r=t.length),r||(r=0),a>0&&e>a&&(a=e),a===e)return 0;if(0===t.length||0===this.length)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>e||e>=this.length)throw new RangeError("sourceStart out of bounds");if(0>a)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-r<a-e&&(a=t.length-r+e);var i=a-e;if(1e3>i||!n.TYPED_ARRAY_SUPPORT)for(var o=0;i>o;o++)t[o+r]=this[o+e];else t._set(this.subarray(e,e+i),r);return i},n.prototype.fill=function(t,r,e){if(t||(t=0),r||(r=0),e||(e=this.length),r>e)throw new RangeError("end < start");if(e!==r&&0!==this.length){if(0>r||r>=this.length)throw new RangeError("start out of bounds");if(0>e||e>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=r;e>n;n++)this[n]=t;else{var a=V(t.toString()),i=a.length;for(n=r;e>n;n++)this[n]=a[n%i]}return this}},n.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(n.TYPED_ARRAY_SUPPORT)return new n(this).buffer;for(var t=new Uint8Array(this.length),r=0,e=t.length;e>r;r+=1)t[r]=this[r];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=n.prototype;n._augment=function(t){return t.constructor=n,t._isBuffer=!0,t._set=t.set,t.get=Z.get,t.set=Z.set,t.write=Z.write,t.toString=Z.toString,t.toLocaleString=Z.toString,t.toJSON=Z.toJSON,t.equals=Z.equals,t.compare=Z.compare,t.indexOf=Z.indexOf,t.copy=Z.copy,t.slice=Z.slice,t.readUIntLE=Z.readUIntLE,t.readUIntBE=Z.readUIntBE,t.readUInt8=Z.readUInt8,t.readUInt16LE=Z.readUInt16LE,t.readUInt16BE=Z.readUInt16BE,t.readUInt32LE=Z.readUInt32LE,t.readUInt32BE=Z.readUInt32BE,t.readIntLE=Z.readIntLE,t.readIntBE=Z.readIntBE,t.readInt8=Z.readInt8,t.readInt16LE=Z.readInt16LE,t.readInt16BE=Z.readInt16BE,t.readInt32LE=Z.readInt32LE,t.readInt32BE=Z.readInt32BE,t.readFloatLE=Z.readFloatLE,t.readFloatBE=Z.readFloatBE,t.readDoubleLE=Z.readDoubleLE,
t.readDoubleBE=Z.readDoubleBE,t.writeUInt8=Z.writeUInt8,t.writeUIntLE=Z.writeUIntLE,t.writeUIntBE=Z.writeUIntBE,t.writeUInt16LE=Z.writeUInt16LE,t.writeUInt16BE=Z.writeUInt16BE,t.writeUInt32LE=Z.writeUInt32LE,t.writeUInt32BE=Z.writeUInt32BE,t.writeIntLE=Z.writeIntLE,t.writeIntBE=Z.writeIntBE,t.writeInt8=Z.writeInt8,t.writeInt16LE=Z.writeInt16LE,t.writeInt16BE=Z.writeInt16BE,t.writeInt32LE=Z.writeInt32LE,t.writeInt32BE=Z.writeInt32BE,t.writeFloatLE=Z.writeFloatLE,t.writeFloatBE=Z.writeFloatBE,t.writeDoubleLE=Z.writeDoubleLE,t.writeDoubleBE=Z.writeDoubleBE,t.fill=Z.fill,t.inspect=Z.inspect,t.toArrayBuffer=Z.toArrayBuffer,t};var J=/[^+\/0-9A-z\-]/g},{"base64-js":21,ieee754:22,"is-array":23}],21:[function(t,r,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===o||r===l?62:r===s||r===c?63:u>r?-1:u+10>r?r-u+26+26:h+26>r?r-h:f+26>r?r-f+26:void 0}function e(t){function e(t){f[l++]=t}var n,a,o,s,u,f;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=t.length;u="="===t.charAt(h-2)?2:"="===t.charAt(h-1)?1:0,f=new i(3*t.length/4-u),o=u>0?t.length-4:t.length;var l=0;for(n=0,a=0;o>n;n+=4,a+=3)s=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&s)>>16),e((65280&s)>>8),e(255&s);return 2===u?(s=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&s)):1===u&&(s=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(s>>8&255),e(255&s)),f}function a(t){function r(t){return n.charAt(t)}function e(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var a,i,o,s=t.length%3,u="";for(a=0,o=t.length-s;o>a;a+=3)i=(t[a]<<16)+(t[a+1]<<8)+t[a+2],u+=e(i);switch(s){case 1:i=t[t.length-1],u+=r(i>>2),u+=r(i<<4&63),u+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],u+=r(i>>10),u+=r(i>>4&63),u+=r(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),f="a".charCodeAt(0),h="A".charCodeAt(0),l="-".charCodeAt(0),c="_".charCodeAt(0);t.toByteArray=e,t.fromByteArray=a}("undefined"==typeof e?this.base64js={}:e)},{}],22:[function(t,r,e){e.read=function(t,r,e,n,a){var i,o,s=8*a-n-1,u=(1<<s)-1,f=u>>1,h=-7,l=e?a-1:0,c=e?-1:1,p=t[r+l];for(l+=c,i=p&(1<<-h)-1,p>>=-h,h+=s;h>0;i=256*i+t[r+l],l+=c,h-=8);for(o=i&(1<<-h)-1,i>>=-h,h+=n;h>0;o=256*o+t[r+l],l+=c,h-=8);if(0===i)i=1-f;else{if(i===u)return o?NaN:(p?-1:1)*(1/0);o+=Math.pow(2,n),i-=f}return(p?-1:1)*o*Math.pow(2,i-n)},e.write=function(t,r,e,n,a,i){var o,s,u,f=8*i-a-1,h=(1<<f)-1,l=h>>1,c=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,g=n?1:-1,d=0>r||0===r&&0>1/r?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,o=h):(o=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-o))<1&&(o--,u*=2),r+=o+l>=1?c/u:c*Math.pow(2,1-l),r*u>=2&&(o++,u/=2),o+l>=h?(s=0,o=h):o+l>=1?(s=(r*u-1)*Math.pow(2,a),o+=l):(s=r*Math.pow(2,l-1)*Math.pow(2,a),o=0));a>=8;t[e+p]=255&s,p+=g,s/=256,a-=8);for(o=o<<a|s,f+=a;f>0;t[e+p]=255&o,p+=g,o/=256,f-=8);t[e+p-g]|=128*d}},{}],23:[function(t,r,e){var n=Array.isArray,a=Object.prototype.toString;r.exports=n||function(t){return!!t&&"[object Array]"==a.call(t)}},{}],24:[function(t,r,e){"use strict";function n(t){this.gl=t,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function a(t,r){return t.name<r.name?-1:1}function i(t,r,e,a,i){var o=new n(t);return o.update(r,e,a,i),o}var o=t("./lib/create-uniforms"),s=t("./lib/create-attributes"),u=t("./lib/reflect"),f=t("./lib/shader-cache"),h=t("./lib/runtime-reflect"),l=n.prototype;l.bind=function(){this.program||this._relink(),this.gl.useProgram(this.program)},l.dispose=function(){this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},l.update=function(t,r,e,n){function i(){c.program=f.program(p,c._vref,c._fref,b,m);for(var t=0;t<e.length;++t)R[t]=p.getUniformLocation(c.program,e[t].name)}if(!r||1===arguments.length){var l=t;t=l.vertex,r=l.fragment,e=l.uniforms,n=l.attributes}var c=this,p=c.gl,g=c._vref;c._vref=f.shader(p,p.VERTEX_SHADER,t),g&&g.dispose(),c.vertShader=c._vref.shader;var d=this._fref;if(c._fref=f.shader(p,p.FRAGMENT_SHADER,r),d&&d.dispose(),c.fragShader=c._fref.shader,!e||!n){var y=p.createProgram();if(p.attachShader(y,c.fragShader),p.attachShader(y,c.vertShader),p.linkProgram(y),!p.getProgramParameter(y,p.LINK_STATUS)){var _=p.getProgramInfoLog(y);throw console.error("gl-shader: Error linking program:",_),new Error("gl-shader: Error linking program:"+_)}e=e||h.uniforms(p,y),n=n||h.attributes(p,y),p.deleteProgram(y)}n=n.slice(),n.sort(a);for(var v=[],b=[],m=[],E=0;E<n.length;++E){var w=n[E];if(w.type.indexOf("mat")>=0){for(var A=0|w.type.charAt(w.type.length-1),T=new Array(A),I=0;A>I;++I)T[I]=m.length,b.push(w.name+"["+I+"]"),"number"==typeof w.location?m.push(w.location+I):Array.isArray(w.location)&&w.location.length===A&&"number"==typeof w.location[I]?m.push(0|w.location[I]):m.push(-1);v.push({name:w.name,type:w.type,locations:T})}else v.push({name:w.name,type:w.type,locations:[m.length]}),b.push(w.name),"number"==typeof w.location?m.push(0|w.location):m.push(-1)}for(var x=0,E=0;E<m.length;++E)if(m[E]<0){for(;m.indexOf(x)>=0;)x+=1;m[E]=x}var R=new Array(e.length);i(),c._relink=i,c.types={uniforms:u(e),attributes:u(n)},c.attributes=s(p,c,v,m),Object.defineProperty(c,"uniforms",o(p,c,e,R))},r.exports=i},{"./lib/create-attributes":25,"./lib/create-uniforms":26,"./lib/reflect":27,"./lib/runtime-reflect":28,"./lib/shader-cache":29}],25:[function(t,r,e){"use strict";function n(t,r,e,n,a,i){this._gl=t,this._wrapper=r,this._index=e,this._locations=n,this._dimension=a,this._constFunc=i}function a(t,r,e,a,i,o,s){for(var u=["gl","v"],f=[],h=0;i>h;++h)u.push("x"+h),f.push("x"+h);u.push("if(x0.length===void 0){return gl.vertexAttrib"+i+"f(v,"+f.join()+")}else{return gl.vertexAttrib"+i+"fv(v,x0)}");var l=Function.apply(null,u),c=new n(t,r,e,a,i,l);Object.defineProperty(o,s,{set:function(r){return t.disableVertexAttribArray(a[e]),l(t,a[e],r),r},get:function(){return c},enumerable:!0})}function i(t,r,e,n,i,o,s){for(var u=new Array(i),f=new Array(i),h=0;i>h;++h)a(t,r,e[h],n,i,u,h),f[h]=u[h];Object.defineProperty(u,"location",{set:function(t){if(Array.isArray)for(var r=0;i>r;++r)f[r].location=t[r];else for(var r=0;i>r;++r)result[r]=f[r].location=t+r;return t},get:function(){for(var t=new Array(i),r=0;i>r;++r)t[r]=n[e[r]];return t},enumerable:!0}),u.pointer=function(r,a,o,s){r=r||t.FLOAT,a=!!a,o=o||i*i,s=s||0;for(var u=0;i>u;++u){var f=n[e[u]];t.vertexAttribPointer(f,i,r,a,o,s+u*i),t.enableVertexAttribArray(f)}};var l=new Array(i),c=t["vertexAttrib"+i+"fv"];Object.defineProperty(o,s,{set:function(r){for(var a=0;i>a;++a){var o=n[e[a]];if(t.disableVertexAttribArray(o),Array.isArray(r[0]))c.call(t,o,r[a]);else{for(var s=0;i>s;++s)l[s]=r[i*a+s];c.call(t,o,l)}}return r},get:function(){return u},enumerable:!0})}function o(t,r,e,n){for(var o={},s=0,u=e.length;u>s;++s){var f=e[s],h=f.name,l=f.type,c=f.locations;switch(l){case"bool":case"int":case"float":a(t,r,c[0],n,1,o,h);break;default:if(l.indexOf("vec")>=0){var p=l.charCodeAt(l.length-1)-48;if(2>p||p>4)throw new Error("gl-shader: Invalid data type for attribute "+h+": "+l);a(t,r,c[0],n,p,o,h)}else{if(!(l.indexOf("mat")>=0))throw new Error("gl-shader: Unknown data type for attribute "+h+": "+l);var p=l.charCodeAt(l.length-1)-48;if(2>p||p>4)throw new Error("gl-shader: Invalid data type for attribute "+h+": "+l);i(t,r,c,n,p,o,h)}}}return o}r.exports=o;var s=n.prototype;s.pointer=function(t,r,e,n){var a=this,i=a._gl,o=a._locations[a._index];i.vertexAttribPointer(o,a._dimension,t||i.FLOAT,!!r,e||0,n||0),i.enableVertexAttribArray(o)},s.set=function(t,r,e,n){return this._constFunc(this._locations[this._index],t,r,e,n)},Object.defineProperty(s,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},{}],26:[function(t,r,e){"use strict";function n(t){var r=new Function("y","return function(){return y}");return r(t)}function a(t,r){for(var e=new Array(t),n=0;t>n;++n)e[n]=r;return e}function i(t,r,e,i){function s(e){var n=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+e+"])}");return n(t,r,i)}function u(t,r,e){switch(e){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+r+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+r+"],obj"+t+")";default:var n=e.indexOf("vec");if(!(n>=0&&1>=n&&e.length===4+n)){if(0===e.indexOf("mat")&&4===e.length){var a=e.charCodeAt(e.length-1)-48;if(2>a||a>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+e);return"gl.uniformMatrix"+a+"fv(locations["+r+"],false,obj"+t+")"}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+e)}var a=e.charCodeAt(e.length-1)-48;if(2>a||a>4)throw new Error("gl-shader: Invalid data type");switch(e.charAt(0)){case"b":case"i":return"gl.uniform"+a+"iv(locations["+r+"],obj"+t+")";case"v":return"gl.uniform"+a+"fv(locations["+r+"],obj"+t+")";default:throw new Error("gl-shader: Unrecognized data type for vector "+name+": "+e)}}}function f(t,r){if("object"!=typeof r)return[[t,r]];var e=[];for(var n in r){var a=r[n],i=t;i+=parseInt(n)+""===n?"["+n+"]":"."+n,"object"==typeof a?e.push.apply(e,f(i,a)):e.push([i,a])}return e}function h(r){for(var n=["return function updateProperty(obj){"],a=f("",r),o=0;o<a.length;++o){var s=a[o],h=s[0],l=s[1];i[l]&&n.push(u(h,l,e[l].type))}n.push("return obj}");var c=new Function("gl","locations",n.join("\n"));return c(t,i)}function l(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var r=t.indexOf("vec");if(r>=0&&1>=r&&t.length===4+r){var e=t.charCodeAt(t.length-1)-48;if(2>e||e>4)throw new Error("gl-shader: Invalid data type");return"b"===t.charAt(0)?a(e,!1):a(e,0)}if(0===t.indexOf("mat")&&4===t.length){var e=t.charCodeAt(t.length-1)-48;if(2>e||e>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+t);return a(e*e,0)}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+t)}}function c(t,r,a){if("object"==typeof a){var o=p(a);Object.defineProperty(t,r,{get:n(o),set:h(a),enumerable:!0,configurable:!1})}else i[a]?Object.defineProperty(t,r,{get:s(a),set:h(a),enumerable:!0,configurable:!1}):t[r]=l(e[a].type)}function p(t){var r;if(Array.isArray(t)){r=new Array(t.length);for(var e=0;e<t.length;++e)c(r,e,t[e])}else{r={};for(var n in t)c(r,n,t[n])}return r}var g=o(e,!0);return{get:n(p(g)),set:h(g),enumerable:!0,configurable:!0}}var o=t("./reflect");r.exports=i},{"./reflect":27}],27:[function(t,r,e){"use strict";function n(t,r){for(var e={},n=0;n<t.length;++n)for(var a=t[n].name,i=a.split("."),o=e,s=0;s<i.length;++s){var u=i[s].split("[");if(u.length>1){u[0]in o||(o[u[0]]=[]),o=o[u[0]];for(var f=1;f<u.length;++f){var h=parseInt(u[f]);f<u.length-1||s<i.length-1?(h in o||(f<u.length-1?o[h]=[]:o[h]={}),o=o[h]):r?o[h]=n:o[h]=t[n].type}}else s<i.length-1?(u[0]in o||(o[u[0]]={}),o=o[u[0]]):r?o[u[0]]=n:o[u[0]]=t[n].type}return e}r.exports=n},{}],28:[function(t,r,e){"use strict";function n(t,r){if(!s){var e=Object.keys(o);s={};for(var n=0;n<e.length;++n){var a=e[n];s[t[a]]=o[a]}}return s[r]}function a(t,r){for(var e=t.getProgramParameter(r,t.ACTIVE_UNIFORMS),a=[],i=0;e>i;++i){var o=t.getActiveUniform(r,i);if(o){var s=n(t,o.type);if(o.size>1)for(var u=0;u<o.size;++u)a.push({name:o.name.replace("[0]","["+u+"]"),type:s});else a.push({name:o.name,type:s})}}return a}function i(t,r){for(var e=t.getProgramParameter(r,t.ACTIVE_ATTRIBUTES),a=[],i=0;e>i;++i){var o=t.getActiveAttrib(r,i);o&&a.push({name:o.name,type:n(t,o.type)})}return a}e.uniforms=a,e.attributes=i;var o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},{}],29:[function(t,r,e){"use strict";function n(t,r,e,n,a,i,o){this.id=t,this.src=r,this.type=e,this.shader=n,this.count=i,this.programs=[],this.cache=o}function a(t){this.gl=t,this.shaders=[{},{}],this.programs={}}function i(t,r,e){var n=t.createShader(r);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(n);throw console.error("gl-shader: Error compiling shader:",a),new Error("gl-shader: Error compiling shader:"+a)}return n}function o(t,r,e,n,a){var i=t.createProgram();t.attachShader(i,r),t.attachShader(i,e);for(var o=0;o<n.length;++o)t.bindAttribLocation(i,a[o],n[o]);if(t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS)){var s=t.getProgramInfoLog(i);throw console.error("gl-shader: Error linking program:",s),new Error("gl-shader: Error linking program:"+s)}return i}function s(t){var r=l.get(t);return r||(r=new a(t),l.set(t,r)),r}function u(t,r,e){return s(t).getShaderReference(r,e)}function f(t,r,e,n,a){return s(t).getProgram(r,e,n,a)}e.shader=u,e.program=f;var h="undefined"==typeof WeakMap?t("weakmap-shim"):WeakMap,l=new h,c=0;n.prototype.dispose=function(){if(0===--this.count){for(var t=this.cache,r=t.gl,e=this.programs,n=0,a=e.length;a>n;++n){var i=t.programs[e[n]];i&&(delete t.programs[n],r.deleteProgram(i))}r.deleteShader(this.shader),delete t.shaders[this.type===r.FRAGMENT_SHADER|0][this.src]}};var p=a.prototype;p.getShaderReference=function(t,r){var e=this.gl,a=this.shaders[t===e.FRAGMENT_SHADER|0],o=a[r];if(o&&e.isShader(o.shader))o.count+=1;else{var s=i(e,t,r);o=a[r]=new n(c++,r,t,s,[],1,this)}return o},p.getProgram=function(t,r,e,n){var a=[t.id,r.id,e.join(":"),n.join(":")].join("@"),i=this.programs[a];return i&&this.gl.isProgram(i)||(this.programs[a]=i=o(this.gl,t.shader,r.shader,e,n),t.programs.push(a),r.programs.push(a)),i}},{"weakmap-shim":32}],30:[function(t,r,e){function n(){var t={};return function(r){if(("object"!=typeof r||null===r)&&"function"!=typeof r)throw new Error("Weakmap-shim: Key must be object");var e=r.valueOf(t);return e&&e.identity===t?e:a(r,t)}}var a=t("./hidden-store.js");r.exports=n},{"./hidden-store.js":31}],31:[function(t,r,e){function n(t,r){var e={identity:r},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==r?n.apply(this,arguments):e},writable:!0}),e}r.exports=n},{}],32:[function(t,r,e){function n(){var t=a();return{get:function(r,e){var n=t(r);return n.hasOwnProperty("value")?n.value:e},set:function(r,e){t(r).value=e},has:function(r){return"value"in t(r)},"delete":function(r){return delete t(r).value}}}var a=t("./create-store.js");r.exports=n},{"./create-store.js":30}],33:[function(t,r,e){arguments[4][3][0].apply(e,arguments)},{"cwise-compiler":34,dup:3}],34:[function(t,r,e){arguments[4][4][0].apply(e,arguments)},{"./lib/thunk.js":36,dup:4}],35:[function(t,r,e){arguments[4][5][0].apply(e,arguments)},{dup:5,uniq:37}],36:[function(t,r,e){arguments[4][6][0].apply(e,arguments)},{"./compile.js":35,dup:6}],37:[function(t,r,e){arguments[4][7][0].apply(e,arguments)},{dup:7}],38:[function(t,r,e){arguments[4][8][0].apply(e,arguments)},{dup:8,"iota-array":39,"is-buffer":40}],39:[function(t,r,e){arguments[4][9][0].apply(e,arguments)},{dup:9}],40:[function(t,r,e){arguments[4][10][0].apply(e,arguments)},{dup:10}],41:[function(t,r,e){arguments[4][11][0].apply(e,arguments)},{dup:11}],42:[function(t,r,e){arguments[4][12][0].apply(e,arguments)},{dup:12}],43:[function(t,r,e){arguments[4][13][0].apply(e,arguments)},{"bit-twiddle":41,buffer:20,dup:13}],44:[function(t,r,e){"use strict";function n(t){y=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],_=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],v=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function a(t,r,e){var n=t.gl,a=n.getParameter(n.MAX_TEXTURE_SIZE);if(0>r||r>a||0>e||e>a)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[r,e],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,r,e,0,t.format,t.type,null),t._mipLevels=[0],t}function i(t,r,e,n,a,i){this.gl=t,this.handle=r,this.format=a,this.type=i,this._shape=[e,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var o=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return o._wrapS},set:function(t){return o.wrapS=t}},{get:function(){return o._wrapT},set:function(t){return o.wrapT=t}}]),this._wrapVector=s;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return o._shape[0]},set:function(t){return o.width=t}},{get:function(){return o._shape[1]},set:function(t){return o.height=t}}]),this._shapeVector=u}function o(t,r){return 3===t.length?1===r[2]&&r[1]===t[0]*t[2]&&r[0]===t[2]:1===r[0]&&r[1]===t[0]}function s(t,r,e,n,a,i,s,u){var f=u.dtype,h=u.shape.slice();if(h.length<2||h.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var l=0,c=0,y=o(h,u.stride.slice());"float32"===f?l=t.FLOAT:"float64"===f?(l=t.FLOAT,y=!1,f="float32"):"uint8"===f?l=t.UNSIGNED_BYTE:(l=t.UNSIGNED_BYTE,y=!1,f="uint8");var _=1;if(2===h.length)c=t.LUMINANCE,h=[h[0],h[1],1],u=p(u.data,h,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==h.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===h[2])c=t.ALPHA;else if(2===h[2])c=t.LUMINANCE_ALPHA;else if(3===h[2])c=t.RGB;else{if(4!==h[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");c=t.RGBA}_=h[2]}if(c!==t.LUMINANCE&&c!==t.ALPHA||a!==t.LUMINANCE&&a!==t.ALPHA||(c=a),c!==a)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var v=u.size,m=s.indexOf(n)<0;if(m&&s.push(n),l===i&&y)0===u.offset&&u.data.length===v?m?t.texImage2D(t.TEXTURE_2D,n,a,h[0],h[1],0,a,i,u.data):t.texSubImage2D(t.TEXTURE_2D,n,r,e,h[0],h[1],a,i,u.data):m?t.texImage2D(t.TEXTURE_2D,n,a,h[0],h[1],0,a,i,u.data.subarray(u.offset,u.offset+v)):t.texSubImage2D(t.TEXTURE_2D,n,r,e,h[0],h[1],a,i,u.data.subarray(u.offset,u.offset+v));else{var E;E=i===t.FLOAT?d.mallocFloat32(v):d.mallocUint8(v);var w=p(E,h,[h[2],h[2]*h[0],1]);l===t.FLOAT&&i===t.UNSIGNED_BYTE?b(w,u):g.assign(w,u),m?t.texImage2D(t.TEXTURE_2D,n,a,h[0],h[1],0,a,i,E.subarray(0,v)):t.texSubImage2D(t.TEXTURE_2D,n,r,e,h[0],h[1],a,i,E.subarray(0,v)),i===t.FLOAT?d.freeFloat32(E):d.freeUint8(E)}}function u(t){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r}function f(t,r,e,n,a){var o=t.getParameter(t.MAX_TEXTURE_SIZE);if(0>r||r>o||0>e||e>o)throw new Error("gl-texture2d: Invalid texture shape");if(a===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=u(t);return t.texImage2D(t.TEXTURE_2D,0,n,r,e,0,n,a,null),new i(t,s,r,e,n,a)}function h(t,r,e,n){var a=u(t);return t.texImage2D(t.TEXTURE_2D,0,e,e,n,r),new i(t,a,0|r.width,0|r.height,e,n)}function l(t,r){var e=r.dtype,n=r.shape.slice(),a=t.getParameter(t.MAX_TEXTURE_SIZE);if(n[0]<0||n[0]>a||n[1]<0||n[1]>a)throw new Error("gl-texture2d: Invalid texture size");var s=o(n,r.stride.slice()),f=0;"float32"===e?f=t.FLOAT:"float64"===e?(f=t.FLOAT,s=!1,e="float32"):"uint8"===e?f=t.UNSIGNED_BYTE:(f=t.UNSIGNED_BYTE,s=!1,e="uint8");var h=0;if(2===n.length)h=t.LUMINANCE,n=[n[0],n[1],1],r=p(r.data,n,[r.stride[0],r.stride[1],1],r.offset);else{if(3!==n.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===n[2])h=t.ALPHA;else if(2===n[2])h=t.LUMINANCE_ALPHA;else if(3===n[2])h=t.RGB;else{if(4!==n[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");h=t.RGBA}}f!==t.FLOAT||t.getExtension("OES_texture_float")||(f=t.UNSIGNED_BYTE,s=!1);var l,c,y=r.size;if(s)l=0===r.offset&&r.data.length===y?r.data:r.data.subarray(r.offset,r.offset+y);else{var _=[n[2],n[2]*n[0],1];c=d.malloc(y,e);var v=p(c,n,_,0);"float32"!==e&&"float64"!==e||f!==t.UNSIGNED_BYTE?g.assign(v,r):b(v,r),l=c.subarray(0,y)}var m=u(t);return t.texImage2D(t.TEXTURE_2D,0,h,n[0],n[1],0,h,f,l),s||d.free(c),new i(t,m,n[0],n[1],h,f)}function c(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(y||n(t),"number"==typeof arguments[1])return f(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return f(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var r=arguments[1];if(r instanceof HTMLCanvasElement||r instanceof HTMLImageElement||r instanceof HTMLVideoElement||r instanceof ImageData)return h(t,r,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(r.shape&&r.data&&r.stride)return l(t,r)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var p=t("ndarray"),g=t("ndarray-ops"),d=t("typedarray-pool");r.exports=c;var y=null,_=null,v=null,b=function(t,r){g.muls(t,r,255)},m=i.prototype;Object.defineProperties(m,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var r=this.gl;if(this.type===r.FLOAT&&y.indexOf(t)>=0&&(r.getExtension("OES_texture_float_linear")||(t=r.NEAREST)),_.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var r=this.gl;if(this.type===r.FLOAT&&y.indexOf(t)>=0&&(r.getExtension("OES_texture_float_linear")||(t=r.NEAREST)),_.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var r=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),r!==this._anisoSamples){var e=gl.getExtension("EXT_texture_filter_anisotropic");e&&this.gl.texParameterf(this.gl.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),v.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),v.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var r=0;2>r;++r)if(v.indexOf(t[r])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var e=this.gl;return this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,this._wrapS),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return a(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t=0|t,a(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t=0|t,a(this,this._shape[0],t),t}}}),m.bind=function(t){var r=this.gl;return void 0!==t&&r.activeTexture(r.TEXTURE0+(0|t)),r.bindTexture(r.TEXTURE_2D,this.handle),void 0!==t?0|t:r.getParameter(r.ACTIVE_TEXTURE)-r.TEXTURE0},m.dispose=function(){this.gl.deleteTexture(this.handle)},m.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),r=0;t>0;++r,t>>>=1)this._mipLevels.indexOf(r)<0&&this._mipLevels.push(r)},m.setPixels=function(t,r,e,n){var a=this.gl;if(this.bind(),Array.isArray(r)?(n=e,e=0|r[1],r=0|r[0]):(r=r||0,e=e||0),n=n||0,t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLVideoElement){var i=this._mipLevels.indexOf(n)<0;i?(a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,this.type,t),this._mipLevels.push(n)):a.texSubImage2D(a.TEXTURE_2D,n,r,e,this.format,this.type,t)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||r+t.shape[1]>this._shape[1]>>>n||e+t.shape[0]>this._shape[0]>>>n||0>r||0>e)throw new Error("gl-texture2d: Texture dimensions are out of bounds");s(a,r,e,n,this.format,this.type,this._mipLevels,t)}}},{ndarray:38,"ndarray-ops":33,"typedarray-pool":43}],45:[function(t,r,e){function n(t,r,e){"function"==typeof r&&(e=r,r=null);var n,a=document.createElement("img");return a.onload=function(){n||(n=!0,e&&e(void 0,a))},a.onerror=function(r){n||(n=!0,e&&e(new Error('Unable to load "'+t+'"'),a))},r&&r.crossOrigin&&(a.crossOrigin=r.crossOrigin),a.src=t,a}r.exports=n},{}],46:[function(t,r,e){var n=t("get-canvas-context");r.exports=function(t){return n("webgl",t)}},{"get-canvas-context":47}],47:[function(t,r,e){function n(t,r){if("string"!=typeof t)throw new TypeError("must specify type string");if("undefined"==typeof document)return null;r=r||{};var e=r.canvas||document.createElement("canvas");"number"==typeof r.width&&(e.width=r.width),"number"==typeof r.height&&(e.height=r.height);var n,a=r;try{var i=[t];0===t.indexOf("webgl")&&i.push("experimental-"+t);for(var o=0;o<i.length;o++)if(n=e.getContext(i[o],a))return n}catch(s){n=null}return n||null}r.exports=n},{}]},{},[1]);
